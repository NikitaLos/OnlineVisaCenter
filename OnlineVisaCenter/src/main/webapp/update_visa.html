<!DOCTYPE html>
<html lang="en" ng-app="visa_center">
<head>
    <meta charset="UTF-8">
    <title>Update visa</title>
</head>
<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular.min.js"></script>
<script src="application_controller.js"></script>
<body>
<div ng-include="'employee_navbar.html'">
</div>
<br/>
<br/>

<div ng-controller="application_controller">
    <div class="row justify-content-center">
        <div class="col-9">
            <form class="form-inline" data-ng-init="getCountry(); getDocumentTypes(); getVisaToUpdate()" ng-submit="updateVisa(newVisa)">

                <label class="sr-only" for="type">Type</label>
                <input ng-model ="newVisa.type" ng-init="newVisa.type=visaToUpdate.type" type="text" class="form-control mr-sm-2" id="type" placeholder="Type">

                <label class="sr-only" for="price">Price</label>
                <input ng-model ="newVisa.price" ng-init="newVisa.price=visaToUpdate.price" type="number" class="form-control mr-sm-2" id="price" placeholder="Price">

                <label class="my-1 mr-2" for="countries">Country</label>
                <select class="custom-select my-1 mr-sm-2" id="countries" ng-model="newVisa.countryId" ng-init="newVisa.countryId=visaToUpdate.country.id" ng-options="c.id as c.name for c in countries"></select >

                <label class="my-1 mr-2" for="documents">Documents</label>
                <select class="custom-select my-1 mr-sm-2" id="documents" multiple  ng-model="newVisa.requiredDocumentTypesId" ng-init="newVisa.requiredDocumentTypesId = documentsId" ng-options="d.id as d.name for d in document_types"></select >

                <button  type="submit" class="btn btn-success mb-2">Update</button>
            </form>
        </div>
    </div>
    <div ng-show="messageBool">
        <div  class="row justify-content-center">
            <strong class="alert alert-danger">{{errorMessage}}</strong>
        </div>

        <div class="row justify-content-center">
            <div  ng-repeat="error in validationErrors"  class="alert alert-danger" role="alert">
                {{error}}
            </div>
        </div>
    </div>
</div>

</body>
</html>